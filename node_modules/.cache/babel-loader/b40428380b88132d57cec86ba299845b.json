{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stephenpritchard/Web Development/ocr-testing-app/ocr-client/src/Containers/TextDetection/TextDetection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Paper, Container, Card, Button } from '@material-ui/core';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Dropzone from '../../Components/Dropzone/Dropzone';\nimport Switch from '@material-ui/core/Switch';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexGrow: 1,\n    margin: theme.spacing(1)\n  },\n  dropzone: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  dropzoneCard: {// marginBottom: 40,\n  },\n  buttonArea: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  toolbarButtons: {\n    display: 'flex',\n    marginLeft: 'auto'\n  }\n}));\n\nfunction TextDetection({\n  handleThemeChange,\n  keyDataToParent,\n  clearText,\n  handleOpen\n}) {\n  _s();\n\n  const classes = useStyles();\n  var dummyData = [{\n    name: 'Naylor 81091331 .jpg',\n    purchaseOrders: ['146499', '342010'],\n    date: '19/02/2021'\n  }, {\n    name: 'Eccles 61275.jpg',\n    purchaseOrders: ['146865'],\n    date: '16/02/2021'\n  }, {\n    name: 'no-po.jpg',\n    purchaseOrders: ['999999'],\n    date: '01/01/2021'\n  }];\n\n  const uploadImage = async images => {\n    console.log(images);\n    var formData = new FormData();\n    images.forEach(image => {\n      if (image.path.split('.').pop() == 'jpg' || image.path.split('.').pop() == 'png') {\n        // formData.append('photo', image)\n        console.log('no problemo');\n        handleOpen(true, 'no problemo');\n      } else {\n        console.log(image.path, \" is of an invalid format.\");\n        handleOpen(true);\n      }\n    });\n    const formResponse = await fetch('/getFormData', {\n      method: \"post\",\n      body: formData\n    });\n    const formResponseData = await formResponse.json(); // const tableResponse = await fetch('/getTableData', {\n    //   method: \"post\",\n    //   body: formData\n    // })\n    // const tableResponseData = await tableResponse.json();\n    // console.log(tableResponseData)\n\n    keyDataToParent(Object.values(formResponseData)); // formResponseData.purchaseOrders.forEach((number) => searchBP(number))\n  };\n\n  return (\n    /*#__PURE__*/\n    // <Grid className={classes.root}>\n    _jsxDEV(Toolbar, {\n      className: classes.root,\n      variant: \"dense\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 5,\n        children: [\"Dashboard\", /*#__PURE__*/_jsxDEV(Switch, {\n          onChange: handleThemeChange,\n          defaultChecked: true,\n          color: \"default\",\n          inputProps: {\n            'aria-label': 'checkbox with default color'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        className: classes.dropzone,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"outlined\",\n          style: {\n            border: '2px dashed gray'\n          },\n          className: classes.dropzoneCard,\n          children: /*#__PURE__*/_jsxDEV(Dropzone, {\n            uploadImage: uploadImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        className: classes.toolbarButtons,\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          className: classes.buttonArea,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"default\",\n            type: \"button\",\n            disableElevation: true,\n            onClick: () => clearText(),\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          className: classes.buttonArea,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            type: \"button\",\n            disableElevation: true,\n            onClick: () => keyDataToParent(dummyData),\n            children: \"Static\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          className: classes.buttonArea,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this) // </Grid>\n\n  );\n}\n\n_s(TextDetection, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = TextDetection;\nexport default TextDetection;\n\nvar _c;\n\n$RefreshReg$(_c, \"TextDetection\");","map":{"version":3,"sources":["/Users/stephenpritchard/Web Development/ocr-testing-app/ocr-client/src/Containers/TextDetection/TextDetection.js"],"names":["React","useEffect","makeStyles","Grid","Paper","Container","Card","Button","Toolbar","Dropzone","Switch","useStyles","theme","root","display","flexGrow","margin","spacing","dropzone","flexDirection","justifyContent","dropzoneCard","buttonArea","toolbarButtons","marginLeft","TextDetection","handleThemeChange","keyDataToParent","clearText","handleOpen","classes","dummyData","name","purchaseOrders","date","uploadImage","images","console","log","formData","FormData","forEach","image","path","split","pop","formResponse","fetch","method","body","formResponseData","json","Object","values","border"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Grid, Paper, Container, Card, Button } from '@material-ui/core';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Dropzone from '../../Components/Dropzone/Dropzone'\nimport Switch from '@material-ui/core/Switch'\n\nconst useStyles = makeStyles((theme) => ({\n  root:{\n    display: 'flex',\n    flexGrow: 1,\n    margin: theme.spacing(1)\n  },\n  dropzone:{\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  dropzoneCard: {\n    // marginBottom: 40,\n  },\n  buttonArea: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  toolbarButtons: {\n    display: 'flex',\n    marginLeft: 'auto',\n  },\n}));\n\nfunction TextDetection({ handleThemeChange, keyDataToParent, clearText, handleOpen }) {\n  const classes = useStyles()\n\n  var dummyData = [\n    {\n      name: 'Naylor 81091331 .jpg',\n      purchaseOrders: [ '146499', '342010' ],\n      date: '19/02/2021'\n    },\n    {\n      name: 'Eccles 61275.jpg',\n      purchaseOrders: [ '146865' ],\n      date: '16/02/2021'\n    },\n    {\n      name: 'no-po.jpg',\n      purchaseOrders: [ '999999' ],\n      date: '01/01/2021'\n    }\n  ]\n  \n  const uploadImage = async (images) => {\n    console.log(images)\n    var formData = new FormData();\n    images.forEach(image => {\n      if (image.path.split('.').pop() == 'jpg' || image.path.split('.').pop() == 'png') {\n        // formData.append('photo', image)\n        console.log('no problemo')\n        handleOpen(true, 'no problemo')\n      } else {\n        console.log(image.path,\" is of an invalid format.\")\n        handleOpen(true)\n      }\n    })\n    const formResponse = await fetch('/getFormData', {\n      method: \"post\",\n      body: formData\n    })\n    const formResponseData = await formResponse.json();\n    \n    // const tableResponse = await fetch('/getTableData', {\n    //   method: \"post\",\n    //   body: formData\n    // })\n\n    // const tableResponseData = await tableResponse.json();\n    // console.log(tableResponseData)\n    keyDataToParent(Object.values(formResponseData))\n    // formResponseData.purchaseOrders.forEach((number) => searchBP(number))\n  }\n\n  return (\n    // <Grid className={classes.root}>\n    <Toolbar className={classes.root} variant=\"dense\">\n      <Grid item xs={5}>\n        Dashboard\n        <Switch \n          onChange={handleThemeChange}\n          defaultChecked\n          color=\"default\"\n          inputProps={{ 'aria-label': 'checkbox with default color' }}\n        />\n      </Grid>\n      <Grid item xs={3} className={classes.dropzone}>\n        <Card \n          variant=\"outlined\" \n          style={{border: '2px dashed gray'}}\n          className={classes.dropzoneCard}\n        >\n          <Dropzone uploadImage = {uploadImage}/>\n        </Card>\n      </Grid>\n      <Grid item xs={4} className={classes.toolbarButtons}>\n        <Container className={classes.buttonArea}>\n          <Button \n            variant=\"contained\"\n            color=\"default\"\n            type=\"button\" \n            disableElevation \n            onClick={() => clearText()}\n          >\n            Clear\n          </Button>\n        </Container>\n        <Container className={classes.buttonArea}>\n          <Button \n            variant=\"outlined\" \n            type=\"button\" \n            disableElevation \n            onClick={() => keyDataToParent(dummyData)}\n          >\n            Static\n          </Button>\n        </Container>\n        <Container className={classes.buttonArea}>\n          <Button\n            variant=\"contained\"\n          >\n            Logout\n          </Button>\n        </Container>\n      </Grid>\n    </Toolbar>\n    // </Grid>\n  );\n}\n\nexport default TextDetection;\n"]},"metadata":{},"sourceType":"module"}